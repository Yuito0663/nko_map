import express from 'express';
import cors from 'cors';
import helmet from 'helmet';
import compression from 'compression';
import rateLimit from 'express-rate-limit';
import dotenv from 'dotenv';
import path from 'path';
import { fileURLToPath } from 'url';
import profileRoutes from './routes/profile.js';
import adminRoutes from './routes/admin.js';

// ES modules fix for __dirname
const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

// Load environment variables
dotenv.config();

const app = express();
const PORT = process.env.PORT || 10000;

// Security middleware
app.use(helmet({
  contentSecurityPolicy: {
    directives: {
      defaultSrc: ["'self'"],
      styleSrc: ["'self'", "'unsafe-inline'", "https://cdnjs.cloudflare.com", "https://unpkg.com"],
      scriptSrc: ["'self'", "'unsafe-inline'", "https://cdnjs.cloudflare.com", "https://unpkg.com"],
      fontSrc: ["'self'", "https://cdnjs.cloudflare.com"],
      imgSrc: ["'self'", "data:", "https:", "http:", "blob:"],
      connectSrc: ["'self'", "https://api-maps.yandex.ru", "https://*.tile.openstreetmap.org", "https://*.render.com"]
    }
  }
}));

// Compression middleware
app.use(compression());

// Rate limiting
const limiter = rateLimit({
  windowMs: 15 * 60 * 1000,
  max: 100,
  message: 'Ğ¡Ğ»Ğ¸ÑˆĞºĞ¾Ğ¼ Ğ¼Ğ½Ğ¾Ğ³Ğ¾ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² Ñ ÑÑ‚Ğ¾Ğ³Ğ¾ IP, Ğ¿Ğ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹Ñ‚Ğµ Ğ¿Ğ¾Ğ·Ğ¶Ğµ'
});
app.use('/api/', limiter);

// CORS configuration Ğ´Ğ»Ñ Render
app.use(cors({
  origin: function (origin, callback) {
    const allowedOrigins = [
      'https://nko-map-frontend.onrender.com',
      'https://nko-map.onrender.com',
      'http://localhost:3000',
      'http://127.0.0.1:3000',
      'http://localhost:5173'
    ];
    
    // Ğ Ğ°Ğ·Ñ€ĞµÑˆĞ°ĞµĞ¼ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹ Ğ±ĞµĞ· origin (Ğ½ÑƒĞ¶Ğ½Ğ¾ Ğ´Ğ»Ñ Ğ½ĞµĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ñ… ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ²)
    if (!origin) return callback(null, true);
    
    if (allowedOrigins.indexOf(origin) !== -1) {
      callback(null, true);
    } else {
      console.log('CORS blocked for origin:', origin);
      callback(new Error('Not allowed by CORS'));
    }
  },
  credentials: true,
  methods: ['GET', 'POST', 'PUT', 'DELETE', 'OPTIONS'],
  allowedHeaders: ['Content-Type', 'Authorization', 'X-Requested-With']
}));

// Handle preflight requests
app.options('*', cors());

// Body parsing middleware
app.use(express.json({ limit: '10mb' }));
app.use(express.urlencoded({ extended: true }));

// Serve static files from public folder
app.use(express.static(path.join(__dirname, 'public'), {
  maxAge: '1d',
  etag: true,
  lastModified: true
}));

// API Routes
import authRoutes from './routes/auth.js';
import npoRoutes from './routes/npo.js';

app.use('/api/auth', authRoutes);
app.use('/api/npo', npoRoutes);

// Health check
app.get('/api/health', (req, res) => {
  res.json({
    status: 'OK',
    message: 'NKO Map API is running on Render!',
    timestamp: new Date().toISOString(),
    environment: process.env.NODE_ENV || 'production',
    render: true
  });
});

// Serve frontend for all other routes (SPA support)
app.get('*', (req, res) => {
  res.sendFile(path.join(__dirname, 'public', 'index.html'));
});

// Ğ’Ñ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚ Ğ´Ğ»Ñ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ° Ğ¸ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ñ… ĞĞšĞ
app.get('/api/setup-database', async (req, res) => {
  try {
    console.log('ğŸ”„ Starting database setup...');
    
    let setupResults = {
      admin: { created: false, message: '' },
      npos: { added: 0, skipped: 0, total: 0 }
    };

    // 1. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ°
    console.log('ğŸ‘‘ Checking admin user...');
    const existingAdmin = await User.findOne({ where: { role: 'admin' } });
    
    if (existingAdmin) {
      setupResults.admin = { 
        created: false, 
        message: 'Admin user already exists' 
      };
      console.log('âš ï¸ Admin user already exists');
    } else {
      // Ğ¡Ğ¾Ğ·Ğ´Ğ°ĞµĞ¼ Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ°
      const admin = await User.create({
        email: 'admin@nko-map.ru',
        password: 'admin123', // Ğ¡Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾ÑĞ»Ğµ Ğ¿ĞµÑ€Ğ²Ğ¾Ğ³Ğ¾ Ğ²Ñ…Ğ¾Ğ´Ğ°!
        firstName: 'ĞĞ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€',
        lastName: 'Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ñ‹',
        role: 'admin',
        isVerified: true
      });

      setupResults.admin = { 
        created: true, 
        message: 'Admin user created successfully. Email: admin@nko-map.ru, Password: admin123' 
      };
      console.log('âœ… Admin user created successfully');
    }

    // 2. Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ĞĞšĞ (Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰ĞµĞ³Ğ¾ Ğ¸Ğ»Ğ¸ Ğ½Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ° ĞºĞ°Ğº ÑĞ¾Ğ·Ğ´Ğ°Ñ‚ĞµĞ»Ñ)
    const adminUser = await User.findOne({ where: { role: 'admin' } });
    
    if (!adminUser) {
      return res.json({ 
        success: false, 
        error: 'Failed to find or create admin user' 
      });
    }

    console.log('ğŸ“ Adding sample NPOs...');
    
    const sampleNPOs = [
      {
        name: 'ĞĞ Ğ¢ĞĞ¡ ĞĞ“Ğ "12Ğ° Ğ¼Ğ¸ĞºÑ€Ğ¾Ñ€Ğ°Ğ¹Ğ¾Ğ½"',
        category: 'Ğ¡Ğ¾Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°',
        description: 'ĞŸĞ¾Ğ²Ñ‹ÑˆĞµĞ½Ğ¸Ğµ ĞºĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ° Ğ¶Ğ¸Ğ·Ğ½Ğ¸ Ğ¶Ğ¸Ñ‚ĞµĞ»ĞµĞ¹ 12Ğ° Ğ¼Ğ¸ĞºÑ€Ğ¾Ñ€Ğ°Ğ¹Ğ¾Ğ½Ğ° Ğ³.ĞĞ½Ğ³Ğ°Ñ€ÑĞºĞ° Ğ˜Ñ€ĞºÑƒÑ‚ÑĞºĞ¾Ğ¹ Ğ¾Ğ±Ğ»Ğ°ÑÑ‚Ğ¸. Ğ‘Ğ»Ğ°Ğ³Ğ¾ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ¾ Ğ¸ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ°Ğ½Ğ¸Ğ¸ Ñ‚ĞµÑ€Ñ€Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¸, Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ ĞºÑƒĞ»ÑŒÑ‚ÑƒÑ€Ğ½Ñ‹Ñ…, ÑĞ¿Ğ¾Ñ€Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ñ… Ğ¸ ÑĞ¾Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾ Ğ·Ğ½Ğ°Ñ‡Ğ¸Ğ¼Ñ‹Ñ… Ğ¼ĞµÑ€Ğ¾Ğ¿Ñ€Ğ¸ÑÑ‚Ğ¸Ğ¹, Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ Ñ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ°Ğ¼Ğ¸ Ğ²Ğ»Ğ°ÑÑ‚Ğ¸ Ğ´Ğ»Ñ ÑƒÑ‡Ñ‘Ñ‚Ğ° Ğ¼Ğ½ĞµĞ½Ğ¸Ñ Ğ¶Ğ¸Ñ‚ĞµĞ»ĞµĞ¹, ÑĞºĞ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸ Ğ¸ ÑĞ¾Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾Ğ¹ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰Ğ¸.',
        volunteerActivities: 'ĞÑ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¼ĞµÑ€Ğ¾Ğ¿Ñ€Ğ¸ÑÑ‚Ğ¸Ğ¹, Ğ±Ğ»Ğ°Ğ³Ğ¾ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ¾ Ñ‚ĞµÑ€Ñ€Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¸, Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ Ğ¶Ğ¸Ñ‚ĞµĞ»ÑĞ¼Ğ¸, Ğ¿Ñ€Ğ¾Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ Ğ·Ğ°Ñ€ÑĞ´Ğ¾Ğº Ğ¸ Ñ‚Ñ€ĞµĞ½Ğ¸Ñ€Ğ¾Ğ²Ğ¾Ğº, ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ´ĞµÑ‚ÑĞºĞ¸Ñ… Ğ¿Ğ»Ğ¾Ñ‰Ğ°Ğ´Ğ¾Ğº.',
        city: 'ĞĞ½Ğ³Ğ°Ñ€ÑĞº',
        address: 'Ğ³. ĞĞ½Ğ³Ğ°Ñ€ÑĞº, 12Ğ° Ğ¼Ğ¸ĞºÑ€Ğ¾Ñ€Ğ°Ğ¹Ğ¾Ğ½',
        social_vk: 'https://vk.com/id746471055',
        lat: 52.5151, lng: 103.8331,
        status: 'approved'
      },
      {
        name: 'Ğ‘Ğ»Ğ°Ğ³Ğ¾Ñ‚Ğ²Ğ¾Ñ€Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ñ„Ğ¾Ğ½Ğ´ "ĞŸĞ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ğ° Ğ´Ğ¾Ğ±Ñ€Ñ‹Ñ… Ğ´ĞµĞ»"',
        category: 'Ğ¡Ğ¾Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°',
        description: 'Ğ‘Ğ»Ğ°Ğ³Ğ¾Ñ‚Ğ²Ğ¾Ñ€Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ğ¾Ğ±Ñ‰ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ Ğ¿Ğ¾Ğ»ĞµĞ·Ğ½Ñ‹Ğ¹ Ñ„Ğ¾Ğ½Ğ´ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰Ğ¸ ÑĞ¾Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾ Ğ½ĞµĞ·Ğ°Ñ‰Ğ¸Ñ‰ĞµĞ½Ğ½Ñ‹Ğ¼ ÑĞ»Ğ¾ÑĞ¼ Ğ½Ğ°ÑĞµĞ»ĞµĞ½Ğ¸Ñ. ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ Ğ²Ğ¸Ğ´ Ğ´ĞµÑÑ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸ (ĞĞšĞ’Ğ­Ğ”) 64.99.',
        volunteerActivities: 'ĞŸĞ¾Ğ¼Ğ¾Ñ‰ÑŒ Ğ¼Ğ¾Ğ»Ğ¾Ğ´Ñ‹Ğ¼ Ğ»ÑĞ´ÑĞ¼ Ñ Ğ¸Ğ½Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ½Ğ¾ÑÑ‚ÑŒÑ ÑÑ‚Ğ°Ñ€ÑˆĞµ 18 Ğ»ĞµÑ‚ Ğ¸ Ğ³Ñ€Ğ°Ğ¶Ğ´Ğ°Ğ½Ğ°Ğ¼ ÑÑ‚Ğ°Ñ€ÑˆĞµĞ³Ğ¾ Ğ²Ğ¾Ğ·Ñ€Ğ°ÑÑ‚Ğ° (Ğ¿ĞµĞ½ÑĞ¸Ğ¾Ğ½Ğ½Ğ¾Ğ³Ğ¾).',
        city: 'ĞœĞ¾ÑĞºĞ²Ğ°',
        address: 'Ğ³. ĞœĞ¾ÑĞºĞ²Ğ°',
        lat: 55.7558, lng: 37.6173,
        status: 'approved'
      },
      {
        name: 'ĞœĞ‘Ğ£ "ĞœĞ¾Ğ»Ğ¾Ğ´ĞµĞ¶Ğ½Ñ‹Ğ¹ Ñ†ĞµĞ½Ñ‚Ñ€"',
        category: 'ĞĞ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ',
        description: 'ĞšĞ¾Ğ½ÑÑƒĞ»ÑŒÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¸ Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ½Ğ° Ğ¿Ğ»Ğ¾Ñ‰Ğ°Ğ´ĞºĞµ Â«Ğ”Ğ¾Ğ±Ñ€Ğ¾.Ğ Ğ¤Â». ĞŸÑ€Ğ¾Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ "Ğ¨ĞºĞ¾Ğ»Ñ‹ Ğ²Ğ¾Ğ»Ğ¾Ğ½Ñ‚ĞµÑ€Ğ¾Ğ²". Ğ¤Ğ¾Ñ€Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¸ ÑĞ¾Ğ¿Ñ€Ğ¾Ğ²Ğ¾Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ Ğ²Ğ¾Ğ»Ğ¾Ğ½Ñ‚ĞµÑ€ÑĞºĞ¸Ñ… ĞºĞ¾Ñ€Ğ¿ÑƒÑĞ¾Ğ² Ğ½Ğ° Ğ¾Ğ±Ñ‰ĞµĞ³Ğ¾Ñ€Ğ¾Ğ´ÑĞºĞ¸Ñ… Ğ¼ĞµÑ€Ğ¾Ğ¿Ñ€Ğ¸ÑÑ‚Ğ¸ÑÑ… Ğ¸ Ñ„ĞµĞ´ĞµÑ€Ğ°Ğ»ÑŒĞ½Ñ‹Ñ… Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°Ñ….',
        volunteerActivities: 'ĞšĞ¾Ğ½ÑÑƒĞ»ÑŒÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ¾ Ğ´Ğ¾Ğ±Ñ€Ğ¾Ğ²Ğ¾Ğ»ÑŒÑ‡ĞµÑÑ‚Ğ²Ñƒ, Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ²Ğ¾Ğ»Ğ¾Ğ½Ñ‚ĞµÑ€ÑĞºĞ¸Ñ… ĞºĞ¾Ñ€Ğ¿ÑƒÑĞ¾Ğ², Ğ¿Ñ€Ğ¾Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ñ… Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼ Ğ´Ğ»Ñ Ğ¼Ğ¾Ğ»Ğ¾Ğ´ĞµĞ¶Ğ¸.',
        city: 'Ğ“Ğ»Ğ°Ğ·Ğ¾Ğ²',
        address: 'Ğ³. Ğ“Ğ»Ğ°Ğ·Ğ¾Ğ²',
        social_vk: 'https://vk.com/mcglazov',
        lat: 58.135, lng: 52.655,
        status: 'approved'
      },
      {
        name: 'ĞšÑƒĞ»ÑŒÑ‚ÑƒÑ€Ğ½Ğ°Ñ Ğ±Ğ°Ğ·Ğ° "ĞšĞ¾Ñ€Ğ¾Ğ»ĞµĞ½ĞºĞ¾ 8"',
        category: 'ĞšÑƒĞ»ÑŒÑ‚ÑƒÑ€Ğ°',
        description: 'Ğ ĞµÑÑƒÑ€ÑĞ½Ñ‹Ğ¹ Ñ†ĞµĞ½Ñ‚Ñ€ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰Ğ¸ ĞĞšĞ Ğ¸ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµÑÑ‚Ğ²Ğ°Ğ¼, ÑƒÑ‡Ñ€ĞµĞ¶Ğ´ĞµĞ½Ğ¸ÑĞ¼ ĞºÑƒĞ»ÑŒÑ‚ÑƒÑ€Ñ‹, Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ. ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° Ğ¸Ğ½Ğ¸Ñ†Ğ¸Ğ°Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ñ… Ğ¶Ğ¸Ñ‚ĞµĞ»ĞµĞ¹ Ğ¸ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµÑÑ‚Ğ² Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğ°.',
        volunteerActivities: 'ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° Ğ³Ñ€Ğ°Ğ¶Ğ´Ğ°Ğ½ÑĞºĞ¸Ñ… Ğ¸Ğ½Ğ¸Ñ†Ğ¸Ğ°Ñ‚Ğ¸Ğ², ĞºĞ¾Ğ½ÑÑƒĞ»ÑŒÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ĞĞšĞ, Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ ĞºÑƒĞ»ÑŒÑ‚ÑƒÑ€Ğ½Ñ‹Ñ… Ğ¼ĞµÑ€Ğ¾Ğ¿Ñ€Ğ¸ÑÑ‚Ğ¸Ğ¹.',
        city: 'Ğ“Ğ»Ğ°Ğ·Ğ¾Ğ²',
        address: 'Ğ³. Ğ“Ğ»Ğ°Ğ·Ğ¾Ğ², ÑƒĞ». ĞšĞ¾Ñ€Ğ¾Ğ»ĞµĞ½ĞºĞ¾, 8',
        social_vk: 'https://vk.com/korolenko8',
        lat: 58.145, lng: 52.665,
        status: 'approved'
      },
      {
        name: 'ĞšĞ ĞĞœĞ "Ğ­ĞºĞ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ÑĞ¾ÑĞ·"',
        category: 'Ğ­ĞºĞ¾Ğ»Ğ¾Ğ³Ğ¸Ñ',
        description: 'ĞÑ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¸ Ğ¿Ñ€Ğ¾Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ ÑĞºÑĞºÑƒÑ€ÑĞ¸Ğ¹, ĞºĞ¾Ğ½ĞºÑƒÑ€ÑĞ¾Ğ², Ğ²Ñ‹ÑÑ‚Ğ°Ğ²Ğ¾Ğº, Ğ°ĞºÑ†Ğ¸Ğ¹, ĞºĞ¾Ğ½Ñ„ĞµÑ€ĞµĞ½Ñ†Ğ¸Ğ¹, Ñ„ĞµÑÑ‚Ğ¸Ğ²Ğ°Ğ»ĞµĞ¹, ÑĞµĞ¼Ğ¸Ğ½Ğ°Ñ€Ğ¾Ğ², Ğ¾Ğ»Ğ¸Ğ¼Ğ¿Ğ¸Ğ°Ğ´, Ğ¿Ğ¾Ñ…Ğ¾Ğ´Ğ¾Ğ², ĞºÑ€ÑƒĞ³Ğ»Ñ‹Ñ… ÑÑ‚Ğ¾Ğ»Ğ¾Ğ², ĞºÑƒÑ€ÑĞ¾Ğ², ÑĞ²ÑĞ·Ğ°Ğ½Ğ½Ñ‹Ñ… Ñ Ğ¼Ğ¸Ñ€Ğ¾Ğ¼ Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ñ‹. Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¿Ñ€Ğ¾ÑĞ²ĞµÑ‚Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ñ… Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼ ÑĞºĞ¾Ğ»Ğ¾Ğ³Ğ¾-Ğ±Ğ¸Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ¹ Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸.',
        volunteerActivities: 'ĞŸÑ€Ğ¾Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ ÑĞºĞ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¸Ñ… Ğ°ĞºÑ†Ğ¸Ğ¹, Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¼ĞµÑ€Ğ¾Ğ¿Ñ€Ğ¸ÑÑ‚Ğ¸Ğ¹, Ğ¿Ñ€Ğ¾ÑĞ²ĞµÑ‚Ğ¸Ñ‚ĞµĞ»ÑŒÑĞºĞ°Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ Ğ¼Ğ¾Ğ»Ğ¾Ğ´ĞµĞ¶ÑŒÑ, Ğ¿Ñ€Ğ¸Ñ€Ğ¾Ğ´Ğ¾Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ½Ğ°Ñ Ğ´ĞµÑÑ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ.',
        city: 'Ğ–ĞµĞ»ĞµĞ·Ğ½Ğ¾Ğ³Ğ¾Ñ€ÑĞº',
        address: 'Ğ³. Ğ–ĞµĞ»ĞµĞ·Ğ½Ğ¾Ğ³Ğ¾Ñ€ÑĞº',
        social_vk: 'https://vk.com/ecosoyuz24',
        lat: 56.5808, lng: 104.1235,
        status: 'approved'
      },
      {
        name: 'Ğ¤ĞµĞ´ĞµÑ€Ğ°Ñ†Ğ¸Ñ ĞºĞ°Ñ€Ñ‚Ğ¸Ğ½Ğ³Ğ°',
        category: 'Ğ¡Ğ¿Ğ¾Ñ€Ñ‚',
        description: 'Ğ Ğ°Ğ·Ğ²Ğ¸Ñ‚Ğ¸Ğµ ĞºĞ°Ñ€Ñ‚Ğ¸Ğ½Ğ³Ğ° ĞºĞ°Ğº Ğ²Ğ¸Ğ´Ğ° ÑĞ¿Ğ¾Ñ€Ñ‚Ğ°, Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ ÑĞ¾Ñ€ĞµĞ²Ğ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹ Ğ¸ Ñ‚Ñ€ĞµĞ½Ğ¸Ñ€Ğ¾Ğ²Ğ¾Ñ‡Ğ½Ğ¾Ğ³Ğ¾ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞ°.',
        volunteerActivities: 'ĞÑ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ ÑĞ¿Ğ¾Ñ€Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ñ… Ğ¼ĞµÑ€Ğ¾Ğ¿Ñ€Ğ¸ÑÑ‚Ğ¸Ğ¹, ÑÑƒĞ´ĞµĞ¹ÑÑ‚Ğ²Ğ¾ ÑĞ¾Ñ€ĞµĞ²Ğ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹, Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ Ğ¼Ğ¾Ğ»Ğ¾Ğ´ĞµĞ¶ÑŒÑ.',
        city: 'Ğ–ĞµĞ»ĞµĞ·Ğ½Ğ¾Ğ³Ğ¾Ñ€ÑĞº',
        address: 'Ğ³. Ğ–ĞµĞ»ĞµĞ·Ğ½Ğ¾Ğ³Ğ¾Ñ€ÑĞº',
        social_vk: 'https://vk.com/publik177651782',
        lat: 56.5908, lng: 104.1335,
        status: 'approved'
      },
      {
        name: 'ĞĞšĞ "Ğ ĞµĞ·ĞµÑ€Ğ²Ğ½Ñ‹Ğ¹ Ñ„Ğ¾Ğ½Ğ´ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ¸ Ğ³Ñ€Ğ°Ğ¶Ğ´Ğ°Ğ½ÑĞºĞ¸Ñ… Ğ¸Ğ½Ğ¸Ñ†Ğ¸Ğ°Ñ‚Ğ¸Ğ² Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğ° Ğ—ĞµĞ»ĞµĞ½Ğ¾Ğ³Ğ¾Ñ€ÑĞºĞ°"',
        category: 'Ğ¡Ğ¾Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°',
        description: 'Ğ¡Ğ±Ğ¾Ñ€ ÑÑ€ĞµĞ´ÑÑ‚Ğ² Ğ¸ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰ÑŒ Ğ»ÑĞ´ÑĞ¼ Ğ² Ñ‚ÑĞ¶ĞµĞ»Ñ‹Ñ… Ğ¶Ğ¸Ğ·Ğ½ĞµĞ½Ğ½Ñ‹Ñ… ÑĞ¸Ñ‚ÑƒĞ°Ñ†Ğ¸ÑÑ… (Ğ¿Ğ¾Ğ¶Ğ°Ñ€Ñ‹, Ğ±Ğ¾Ğ»ĞµĞ·Ğ½Ğ¸ Ğ¸ Ñ‚.Ğ¿.). ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° Ğ³Ñ€Ğ°Ğ¶Ğ´Ğ°Ğ½ÑĞºĞ¸Ñ… Ğ¸Ğ½Ğ¸Ñ†Ğ¸Ğ°Ñ‚Ğ¸Ğ² Ğ² Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğµ.',
        volunteerActivities: 'Ğ¡Ğ±Ğ¾Ñ€ Ğ¿Ğ¾Ğ¶ĞµÑ€Ñ‚Ğ²Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹, Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰Ğ¸ Ğ½ÑƒĞ¶Ğ´Ğ°ÑÑ‰Ğ¸Ğ¼ÑÑ, Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° Ğ²Ğ¾Ğ»Ğ¾Ğ½Ñ‚ĞµÑ€ÑĞºĞ¸Ñ… Ğ¸Ğ½Ğ¸Ñ†Ğ¸Ğ°Ñ‚Ğ¸Ğ².',
        city: 'Ğ—ĞµĞ»ĞµĞ½Ğ¾Ğ³Ğ¾Ñ€ÑĞº',
        address: 'Ğ³. Ğ—ĞµĞ»ĞµĞ½Ğ¾Ğ³Ğ¾Ñ€ÑĞº',
        social_vk: 'https://vk.com/club206489451',
        lat: 56.1125, lng: 94.5985,
        status: 'approved'
      },
      {
        name: 'ĞĞĞ "ĞšĞ»ÑƒĞ± ĞºĞ¾Ğ¼Ğ¿ÑŒÑÑ‚ĞµÑ€Ğ½Ğ¾Ğ³Ğ¾ ÑĞ¿Ğ¾Ñ€Ñ‚Ğ° Ğ¸ Ñ„Ğ¸Ğ´Ğ¶Ğ¸Ñ‚Ğ°Ğ»-ÑĞ¿Ğ¾Ñ€Ñ‚Ğ° "ĞšĞ¸Ğ±ĞµÑ€-Ğ°Ñ‚Ğ¾Ğ¼"',
        category: 'Ğ¡Ğ¿Ğ¾Ñ€Ñ‚',
        description: 'Ğ Ğ°Ğ·Ğ²Ğ¸Ñ‚Ğ¸Ğµ ĞºĞ¾Ğ¼Ğ¿ÑŒÑÑ‚ĞµÑ€Ğ½Ğ¾Ğ³Ğ¾ ÑĞ¿Ğ¾Ñ€Ñ‚Ğ° Ğ¸ Ñ„Ğ¸Ğ´Ğ¶Ğ¸Ñ‚Ğ°Ğ»-ÑĞ¿Ğ¾Ñ€Ñ‚Ğ° Ğ² Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğµ, Ğ¿Ñ€Ğ¾Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ Ğ¼ĞµÑ€Ğ¾Ğ¿Ñ€Ğ¸ÑÑ‚Ğ¸Ğ¹, Ñ‚ÑƒÑ€Ğ½Ğ¸Ñ€Ğ¾Ğ² Ğ¸ Ğ¿Ñ€Ğ¾ÑĞ²ĞµÑ‚Ğ¸Ñ‚ĞµĞ»ÑŒÑĞºĞ¾Ğ¹ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹. Ğ Ğ°Ğ·Ğ²Ğ¸Ñ‚Ğ¸Ğµ Ğ½Ğ°Ğ²Ñ‹ĞºĞ¾Ğ² Ñƒ Ğ¿Ğ¾Ğ´Ñ€Ğ¾ÑÑ‚ĞºĞ¾Ğ² Ğ² ĞºĞ¸Ğ±ĞµÑ€ÑĞ¿Ğ¾Ñ€Ñ‚Ğµ.',
        volunteerActivities: 'ĞÑ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ñ‚ÑƒÑ€Ğ½Ğ¸Ñ€Ğ¾Ğ², Ğ¿Ñ€Ğ¾Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ Ñ‚Ñ€ĞµĞ½Ğ¸Ñ€Ğ¾Ğ²Ğ¾Ğº, Ğ¿Ñ€Ğ¾ÑĞ²ĞµÑ‚Ğ¸Ñ‚ĞµĞ»ÑŒÑĞºĞ°Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ Ñ€Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑĞ¼Ğ¸ Ğ¸ Ğ¿Ğ¾Ğ´Ñ€Ğ¾ÑÑ‚ĞºĞ°Ğ¼Ğ¸.',
        city: 'Ğ—ĞµĞ»ĞµĞ½Ğ¾Ğ³Ğ¾Ñ€ÑĞº',
        address: 'Ğ³. Ğ—ĞµĞ»ĞµĞ½Ğ¾Ğ³Ğ¾Ñ€ÑĞº',
        social_vk: 'https://vk.com/cyberatom_zlk24',
        social_telegram: 'https://t.me/cyberatom_zlk24',
        lat: 56.1225, lng: 94.6085,
        status: 'approved'
      },
      {
        name: 'ĞĞĞ Ğ Ğ°Ğ·Ğ²Ğ¸Ğ²Ğ°ÑÑ‰Ğ¸Ğ¹ Ñ†ĞµĞ½Ñ‚Ñ€ "Ğ¡Ğ¾Ğ»Ğ½ĞµÑ‡Ğ½Ñ‹Ğ¹ Ğ³Ğ¾Ñ€Ğ¾Ğ´"',
        category: 'Ğ¡Ğ¾Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°',
        description: 'ĞĞºĞ°Ğ·Ğ°Ğ½Ğ¸Ğµ Ğ¿ÑĞ¸Ñ…Ğ¾Ğ»Ğ¾Ğ³Ğ¾-Ğ¿ĞµĞ´Ğ°Ğ³Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ¹ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰Ğ¸ ÑĞµĞ¼ÑŒÑĞ¼ Ñ Ğ´ĞµÑ‚ÑŒĞ¼Ğ¸, Ğ² Ñ‚Ğ¾Ğ¼ Ñ‡Ğ¸ÑĞ»Ğµ Ñ Ğ¸Ğ½Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ½Ğ¾ÑÑ‚ÑŒÑ Ğ¸ ĞĞ’Ğ—. ĞŸÑ€Ğ¾ĞµĞºÑ‚ "ĞŸĞµÑ€ĞµĞ´Ñ‹ÑˆĞºĞ°" Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ¸ ÑĞµĞ¼ĞµĞ¹.',
        volunteerActivities: 'ĞŸÑĞ¸Ñ…Ğ¾Ğ»Ğ¾Ğ³Ğ¾-Ğ¿ĞµĞ´Ğ°Ğ³Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰ÑŒ, Ğ¿Ñ€Ğ¾Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ Ñ€Ğ°Ğ·Ğ²Ğ¸Ğ²Ğ°ÑÑ‰Ğ¸Ñ… Ğ·Ğ°Ğ½ÑÑ‚Ğ¸Ğ¹, Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° ÑĞµĞ¼ĞµĞ¹ Ñ Ğ¾ÑĞ¾Ğ±ĞµĞ½Ğ½Ñ‹Ğ¼Ğ¸ Ğ´ĞµÑ‚ÑŒĞ¼Ğ¸.',
        city: 'Ğ—ĞµĞ»ĞµĞ½Ğ¾Ğ³Ğ¾Ñ€ÑĞº',
        address: 'Ğ³. Ğ—ĞµĞ»ĞµĞ½Ğ¾Ğ³Ğ¾Ñ€ÑĞº',
        social_vk: 'https://vk.com/sunny_gorod',
        lat: 56.1325, lng: 94.6185,
        status: 'approved'
      },
      {
        name: 'ĞĞĞ ĞšĞ Ğ¦Ğ ĞœĞ¡Ğ˜Ğ“ Ğ•Ğ»ĞµĞ½Ñ‹ Ğ–Ğ¸Ğ²Ğ°ĞµĞ²Ğ¾Ğ¹',
        category: 'Ğ¡Ğ¾Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°',
        description: 'Ğ”ĞµÑÑ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ° Ğ½Ğ° Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºÑƒ Ğ¸ Ñ€Ğ°Ğ·Ğ²Ğ¸Ñ‚Ğ¸Ğµ Ğ¼ĞµÑÑ‚Ğ½Ñ‹Ñ… ÑĞ¾Ğ¾Ğ±Ñ‰ĞµÑÑ‚Ğ², Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ ÑĞ¾Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ñ‹Ñ… Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ¾Ğ².',
        volunteerActivities: 'ĞÑ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ ÑĞ¾Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ñ‹Ñ… Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ¾Ğ², Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ Ğ¼ĞµÑÑ‚Ğ½Ñ‹Ğ¼Ğ¸ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµÑÑ‚Ğ²Ğ°Ğ¼Ğ¸, Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° Ğ³Ñ€Ğ°Ğ¶Ğ´Ğ°Ğ½ÑĞºĞ¸Ñ… Ğ¸Ğ½Ğ¸Ñ†Ğ¸Ğ°Ñ‚Ğ¸Ğ².',
        city: 'Ğ—ĞµĞ»ĞµĞ½Ğ¾Ğ³Ğ¾Ñ€ÑĞº',
        address: 'Ğ³. Ğ—ĞµĞ»ĞµĞ½Ğ¾Ğ³Ğ¾Ñ€ÑĞº',
        social_vk: 'https://vk.com/elenazivaeva',
        lat: 56.1425, lng: 94.6285,
        status: 'approved'
      },
      {
        name: 'ĞĞĞ Ğ ĞµÑÑƒÑ€ÑĞ½Ñ‹Ğ¹ Ñ†ĞµĞ½Ñ‚Ñ€',
        category: 'Ğ”Ñ€ÑƒĞ³Ğ¾Ğµ',
        description: 'Ğ ĞµÑÑƒÑ€ÑĞ½Ñ‹Ğ¹ Ñ†ĞµĞ½Ñ‚Ñ€ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ¸ Ğ¸ Ñ€Ğ°Ğ·Ğ²Ğ¸Ñ‚Ğ¸Ñ Ğ½ĞµĞºĞ¾Ğ¼Ğ¼ĞµÑ€Ñ‡ĞµÑĞºĞ¸Ñ… Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¹ Ğ¸ Ğ³Ñ€Ğ°Ğ¶Ğ´Ğ°Ğ½ÑĞºĞ¸Ñ… Ğ¸Ğ½Ğ¸Ñ†Ğ¸Ğ°Ñ‚Ğ¸Ğ².',
        volunteerActivities: 'ĞšĞ¾Ğ½ÑÑƒĞ»ÑŒÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ĞĞšĞ, Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ñ… Ğ¼ĞµÑ€Ğ¾Ğ¿Ñ€Ğ¸ÑÑ‚Ğ¸Ğ¹, Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° ÑĞ¾Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ñ‹Ñ… Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ¾Ğ².',
        city: 'Ğ—ĞµĞ»ĞµĞ½Ğ¾Ğ³Ğ¾Ñ€ÑĞº',
        address: 'Ğ³. Ğ—ĞµĞ»ĞµĞ½Ğ¾Ğ³Ğ¾Ñ€ÑĞº',
        social_vk: 'https://vk.com/resyrs.center',
        lat: 56.1525, lng: 94.6385,
        status: 'approved'
      },
      {
        name: 'ĞĞĞ Ğ¡Ğ¡ "Ğ›Ğ¸Ğ½Ğ¸Ñ Ğ¶Ğ¸Ğ·Ğ½Ğ¸"',
        category: 'Ğ¡Ğ¾Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°',
        description: 'ĞŸÑ€ĞµĞ´Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ÑĞ¾Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ñ‹Ñ… ÑƒÑĞ»ÑƒĞ³ Ğ½Ğ° Ğ´Ğ¾Ğ¼Ñƒ Ğ´Ğ»Ñ Ğ¿ĞµĞ½ÑĞ¸Ğ¾Ğ½ĞµÑ€Ğ¾Ğ², Ğ¸Ğ½Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ¾Ğ², ÑĞµĞ¼ĞµĞ¹ Ñ Ğ´ĞµÑ‚ÑŒĞ¼Ğ¸-Ğ¸Ğ½Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ğ¼Ğ¸ Ğ¸ Ğ»ÑĞ´ĞµĞ¹ Ğ² Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¾Ğ¹ Ğ¶Ğ¸Ğ·Ğ½ĞµĞ½Ğ½Ğ¾Ğ¹ ÑĞ¸Ñ‚ÑƒĞ°Ñ†Ğ¸Ğ¸.',
        volunteerActivities: 'Ğ¡Ğ¾Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¾Ğ±ÑĞ»ÑƒĞ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ½Ğ° Ğ´Ğ¾Ğ¼Ñƒ, Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ°Ğ·Ğ´Ğ½Ğ¸Ñ‡Ğ½Ñ‹Ñ… Ğ¼ĞµÑ€Ğ¾Ğ¿Ñ€Ğ¸ÑÑ‚Ğ¸Ğ¹, Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰ÑŒ Ğ½ÑƒĞ¶Ğ´Ğ°ÑÑ‰Ğ¸Ğ¼ÑÑ.',
        city: 'Ğ—ĞµĞ»ĞµĞ½Ğ¾Ğ³Ğ¾Ñ€ÑĞº',
        address: 'Ğ³. Ğ—ĞµĞ»ĞµĞ½Ğ¾Ğ³Ğ¾Ñ€ÑĞº',
        social_vk: 'https://vk.com/liniya_zhizni_zel',
        website: 'http://liniyazhiznizel.ru',
        lat: 56.1625, lng: 94.6485,
        status: 'approved'
      },
      {
        name: 'ĞĞĞ Ğ¦ĞµĞ½Ñ‚Ñ€ Ğ´Ğ¾ÑÑƒĞ³Ğ° Ğ¸ Ñ€Ğ°Ğ·Ğ²Ğ¸Ñ‚Ğ¸Ñ Ğ´ĞµÑ‚ĞµĞ¹',
        category: 'ĞĞ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ',
        description: 'ĞÑ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ´Ğ¾ÑÑƒĞ³Ğ° Ğ¸ Ñ€Ğ°Ğ·Ğ²Ğ¸Ğ²Ğ°ÑÑ‰Ğ¸Ñ… Ğ·Ğ°Ğ½ÑÑ‚Ğ¸Ğ¹ Ğ´Ğ»Ñ Ğ´ĞµÑ‚ĞµĞ¹, ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ÑƒÑĞ»Ğ¾Ğ²Ğ¸Ğ¹ Ğ´Ğ»Ñ Ñ‚Ğ²Ğ¾Ñ€Ñ‡ĞµÑĞºĞ¾Ğ³Ğ¾ Ğ¸ Ğ¸Ğ½Ñ‚ĞµĞ»Ğ»ĞµĞºÑ‚ÑƒĞ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ñ€Ğ°Ğ·Ğ²Ğ¸Ñ‚Ğ¸Ñ.',
        volunteerActivities: 'ĞŸÑ€Ğ¾Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ Ñ€Ğ°Ğ·Ğ²Ğ¸Ğ²Ğ°ÑÑ‰Ğ¸Ñ… Ğ·Ğ°Ğ½ÑÑ‚Ğ¸Ğ¹, Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ´Ğ¾ÑÑƒĞ³Ğ° Ğ´ĞµÑ‚ĞµĞ¹, Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ ÑĞµĞ¼ÑŒÑĞ¼Ğ¸.',
        city: 'Ğ—ĞµĞ»ĞµĞ½Ğ¾Ğ³Ğ¾Ñ€ÑĞº',
        address: 'Ğ³. Ğ—ĞµĞ»ĞµĞ½Ğ¾Ğ³Ğ¾Ñ€ÑĞº',
        social_vk: 'https://vk.com/anocdrdzelenogorsk',
        lat: 56.1725, lng: 94.6585,
        status: 'approved'
      },
      {
        name: 'Ğ‘Ğ¤ "ĞŸĞ»Ğ°Ğ½ĞµÑ‚Ğ° ĞºĞ¾ÑˆĞµĞº"',
        category: 'ĞŸĞ¾Ğ¼Ğ¾Ñ‰ÑŒ Ğ¶Ğ¸Ğ²Ğ¾Ñ‚Ğ½Ñ‹Ğ¼',
        description: 'Ğ‘Ğ»Ğ°Ğ³Ğ¾Ñ‚Ğ²Ğ¾Ñ€Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ñ„Ğ¾Ğ½Ğ´ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰Ğ¸ Ğ±ĞµĞ·Ğ´Ğ¾Ğ¼Ğ½Ñ‹Ğ¼ Ğ¶Ğ¸Ğ²Ğ¾Ñ‚Ğ½Ñ‹Ğ¼. Ğ”ĞµÑÑ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ° Ğ½Ğ° ÑĞ¿Ğ°ÑĞµĞ½Ğ¸Ğµ Ğ¶Ğ¸Ğ²Ğ¾Ñ‚Ğ½Ñ‹Ñ…, Ğ¾ĞºĞ°Ğ·Ğ°Ğ²ÑˆĞ¸Ñ…ÑÑ Ğ² ÑĞ»Ğ¾Ğ¶Ğ½Ñ‹Ñ… Ğ¶Ğ¸Ğ·Ğ½ĞµĞ½Ğ½Ñ‹Ñ… ÑĞ¸Ñ‚ÑƒĞ°Ñ†Ğ¸ÑÑ…, Ğ±Ñ€Ğ¾ÑˆĞµĞ½Ğ½Ñ‹Ñ… Ğ½Ğ° ÑƒĞ»Ğ¸Ñ†Ğµ, Ğ½ÑƒĞ¶Ğ´Ğ°ÑÑ‰Ğ¸Ñ…ÑÑ Ğ² Ğ²ĞµÑ‚ĞµÑ€Ğ¸Ğ½Ğ°Ñ€Ğ½Ğ¾Ğ¹ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰Ğ¸.',
        volunteerActivities: 'ĞŸĞ¾Ğ¼Ğ¾Ñ‰ÑŒ Ğ±ĞµĞ·Ğ´Ğ¾Ğ¼Ğ½Ñ‹Ğ¼ Ğ¶Ğ¸Ğ²Ğ¾Ñ‚Ğ½Ñ‹Ğ¼, Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¸ÑÑ‚Ğ¾Ğ², Ğ²ĞµÑ‚ĞµÑ€Ğ¸Ğ½Ğ°Ñ€Ğ½Ğ°Ñ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰ÑŒ, Ğ¿Ğ¾Ğ¸ÑĞº Ñ…Ğ¾Ğ·ÑĞµĞ² Ğ´Ğ»Ñ Ğ¶Ğ¸Ğ²Ğ¾Ñ‚Ğ½Ñ‹Ñ….',
        city: 'ĞĞ¸Ğ¶Ğ½Ğ¸Ğ¹ ĞĞ¾Ğ²Ğ³Ğ¾Ñ€Ğ¾Ğ´',
        address: 'Ğ³. ĞĞ¸Ğ¶Ğ½Ğ¸Ğ¹ ĞĞ¾Ğ²Ğ³Ğ¾Ñ€Ğ¾Ğ´',
        social_vk: 'https://vk.com/planetakosheknn',
        lat: 56.3269, lng: 44.0059,
        status: 'approved'
      },
      {
        name: 'ĞĞĞ Ğ”ĞŸĞ "Ğ¢ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ğ°ĞºĞ°Ğ´ĞµĞ¼Ğ¸Ñ Ğ Ğ¾ÑĞ°Ñ‚Ğ¾Ğ¼Ğ°"',
        category: 'ĞĞ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ',
        description: 'ĞĞ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ°Ñ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ, Ğ½Ğ°Ñ…Ğ¾Ğ´ÑÑ‰Ğ°ÑÑÑ Ğ½Ğ° ÑÑ‚Ğ°Ğ´Ğ¸Ğ¸ Ñ„Ğ¾Ñ€Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ ĞºĞ¾Ğ½Ñ†ĞµĞ¿Ñ†Ğ¸Ğ¸ Ğ¸ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ Ğ¸Ğ´ĞµĞ¸. ĞŸĞ»Ğ°Ğ½Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ Ğ´ĞµÑÑ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ² ÑÑ„ĞµÑ€Ğµ Ğ´Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ¿Ñ€Ğ¾Ñ„ĞµÑÑĞ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ.',
        volunteerActivities: 'Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ñ… Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼, Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ ÑƒÑ‡ĞµĞ±Ğ½Ñ‹Ñ… ĞºÑƒÑ€ÑĞ¾Ğ², Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ Ğ¿Ñ€Ğ¾Ñ„ĞµÑÑĞ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¼Ğ¸ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµÑÑ‚Ğ²Ğ°Ğ¼Ğ¸.',
        city: 'ĞœĞ¾ÑĞºĞ²Ğ°',
        address: 'Ğ³. ĞœĞ¾ÑĞºĞ²Ğ°',
        social_vk: 'https://vk.com/rosatomtech',
        lat: 55.7458, lng: 37.6273,
        status: 'approved'
      },
      {
        name: 'ĞĞĞ Ğ¡Ğ¦Ğ¡Ğ "ĞĞ°ÑˆĞ¸ Ğ´ĞµÑ‚Ğ¸"',
        category: 'Ğ¡Ğ¾Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°',
        description: 'ĞŸĞ¾Ğ¼Ğ¾Ñ‰ÑŒ ÑĞµĞ¼ÑŒÑĞ¼, Ğ²Ğ¾ÑĞ¿Ğ¸Ñ‚Ñ‹Ğ²Ğ°ÑÑ‰Ğ¸Ñ… Ğ´ĞµÑ‚ĞµĞ¹ Ñ Ğ¸Ğ½Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ½Ğ¾ÑÑ‚ÑŒÑ. ĞĞ±ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ½ĞµĞ³Ğ¾Ğ²Ğ¾Ñ€ÑÑ‰Ğ¸Ñ… Ğ´ĞµÑ‚ĞµĞ¹ Ğ¾Ğ±Ñ‰Ğ°Ñ‚ÑŒÑÑ Ğ¿Ñ€Ğ¸ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰Ğ¸ Ğ°Ğ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ğ½Ğ¾Ğ¹ ĞºĞ¾Ğ¼Ğ¼ÑƒĞ½Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸. Ğ Ğ°Ğ·Ğ²Ğ¸Ñ‚Ğ¸Ğµ Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ñ€Ğ°Ğ½Ğ½ĞµĞ¹ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰Ğ¸ Ğ´ĞµÑ‚ÑĞ¼ Ğ´Ğ¾ 3Ñ… Ğ»ĞµÑ‚, Ğ¸Ğ¼ĞµÑÑ‰Ğ¸Ğ¼ Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ² Ñ€Ğ°Ğ·Ğ²Ğ¸Ñ‚Ğ¸Ğ¸.',
        volunteerActivities: 'ĞŸÑ€Ğ¾Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ Ğ·Ğ°Ğ½ÑÑ‚Ğ¸Ğ¹ Ğ´Ğ»Ñ Ğ´ĞµÑ‚ĞµĞ¹ Ñ Ğ¾ÑĞ¾Ğ±ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑĞ¼Ğ¸ Ñ€Ğ°Ğ·Ğ²Ğ¸Ñ‚Ğ¸Ñ, Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° ÑĞµĞ¼ĞµĞ¹, Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¼ĞµÑ€Ğ¾Ğ¿Ñ€Ğ¸ÑÑ‚Ğ¸Ğ¹, Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ Ğ°Ğ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ğ½Ğ¾Ğ¹ ĞºĞ¾Ğ¼Ğ¼ÑƒĞ½Ğ¸ĞºĞ°Ñ†Ğ¸ĞµĞ¹.',
        city: 'ĞĞ¼ÑĞº',
        address: 'Ğ³. ĞĞ¼ÑĞº',
        social_vk: 'https://vk.com/ndetiomsk',
        lat: 54.9892, lng: 73.3687,
        status: 'approved'
      },
      {
        name: 'Ğ¢Ğ ĞĞ "Ğ’ĞŸĞ¦ ĞœĞ¸Ñ€Ğ½Ñ‹Ğ¹ Ğ²Ğ¾Ğ¸Ğ½"',
        category: 'Ğ¡Ğ¾Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°',
        description: 'Ğ’Ğ¾ĞµĞ½Ğ½Ğ¾-Ğ¿Ğ°Ñ‚Ñ€Ğ¸Ğ¾Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ñ†ĞµĞ½Ñ‚Ñ€, Ğ·Ğ°Ğ½Ğ¸Ğ¼Ğ°ÑÑ‰Ğ¸Ğ¹ÑÑ Ğ²Ğ¾ÑĞ¿Ğ¸Ñ‚Ğ°Ğ½Ğ¸ĞµĞ¼ Ğ¼Ğ¾Ğ»Ğ¾Ğ´ĞµĞ¶Ğ¸, Ñ€Ğ°Ğ·Ğ²Ğ¸Ñ‚Ğ¸ĞµĞ¼ Ğ¿Ğ°Ñ‚Ñ€Ğ¸Ğ¾Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ñ… Ğ¸Ğ½Ğ¸Ñ†Ğ¸Ğ°Ñ‚Ğ¸Ğ², Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ¾Ğ¹ Ğ³Ñ€Ğ°Ğ¶Ğ´Ğ°Ğ½ÑĞºĞ¾Ğ³Ğ¾ Ğ¾Ğ±Ñ‰ĞµÑÑ‚Ğ²Ğ°.',
        volunteerActivities: 'Ğ’Ğ¾ĞµĞ½Ğ½Ğ¾-Ğ¿Ğ°Ñ‚Ñ€Ğ¸Ğ¾Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ²Ğ¾ÑĞ¿Ğ¸Ñ‚Ğ°Ğ½Ğ¸Ğµ, Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¼ĞµÑ€Ğ¾Ğ¿Ñ€Ğ¸ÑÑ‚Ğ¸Ğ¹, Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ Ğ¼Ğ¾Ğ»Ğ¾Ğ´ĞµĞ¶ÑŒÑ.',
        city: 'Ğ¢Ğ¾Ğ¼ÑĞº',
        address: 'Ğ³. Ğ¢Ğ¾Ğ¼ÑĞº',
        social_vk: 'https://ok.ru/profile/566417452251',
        lat: 56.4846, lng: 84.9482,
        status: 'approved'
      },
      {
        name: 'Ğ¡Ğ“ĞĞ "Ğ‘ÑƒĞ¼ĞµÑ€Ğ°Ğ½Ğ³ Ğ´Ğ¾Ğ±Ñ€Ğ°"',
        category: 'Ğ¡Ğ¾Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°',
        description: 'Ğ¡Ğ¾Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾ Ğ¾Ñ€Ğ¸ĞµĞ½Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ°Ñ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ, Ğ·Ğ°Ğ½Ğ¸Ğ¼Ğ°ÑÑ‰Ğ°ÑÑÑ Ğ±Ğ»Ğ°Ğ³Ğ¾Ñ‚Ğ²Ğ¾Ñ€Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğ¹ Ğ´ĞµÑÑ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒÑ, Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰ÑŒÑ Ğ½ÑƒĞ¶Ğ´Ğ°ÑÑ‰Ğ¸Ğ¼ÑÑ, Ñ€Ğ°Ğ·Ğ²Ğ¸Ñ‚Ğ¸ĞµĞ¼ Ğ²Ğ¾Ğ»Ğ¾Ğ½Ñ‚ĞµÑ€ÑĞºĞ¾Ğ³Ğ¾ Ğ´Ğ²Ğ¸Ğ¶ĞµĞ½Ğ¸Ñ.',
        volunteerActivities: 'Ğ‘Ğ»Ğ°Ğ³Ğ¾Ñ‚Ğ²Ğ¾Ñ€Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ°ĞºÑ†Ğ¸Ğ¸, Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰ÑŒ Ğ½ÑƒĞ¶Ğ´Ğ°ÑÑ‰Ğ¸Ğ¼ÑÑ, Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ²Ğ¾Ğ»Ğ¾Ğ½Ñ‚ĞµÑ€ÑĞºĞ¾Ğ¹ Ğ´ĞµÑÑ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸.',
        city: 'Ğ¡Ğ½ĞµĞ¶Ğ¸Ğ½ÑĞº',
        address: 'Ğ³. Ğ¡Ğ½ĞµĞ¶Ğ¸Ğ½ÑĞº',
        social_vk: 'https://vk.com/bdsnz',
        lat: 56.0850, lng: 60.7314,
        status: 'approved'
      },
      {
        name: 'Ğ”Ğ¾Ğ±Ñ€Ğ¾Ğ¦ĞµĞ½Ñ‚Ñ€ Ğ¿Ñ€Ğ¸ Ğ¡Ğ ĞĞšĞ Ğ‘ÑƒĞ¼ĞµÑ€Ğ°Ğ½Ğ³ Ğ´Ğ¾Ğ±Ñ€Ğ°',
        category: 'Ğ¡Ğ¾Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°',
        description: 'Ğ¦ĞµĞ½Ñ‚Ñ€ Ğ´Ğ¾Ğ±Ñ€Ğ¾Ğ²Ğ¾Ğ»ÑŒÑ‡ĞµÑĞºĞ¾Ğ¹ Ğ´ĞµÑÑ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸, ĞºĞ¾Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ¸Ñ€ÑƒÑÑ‰Ğ¸Ğ¹ Ğ²Ğ¾Ğ»Ğ¾Ğ½Ñ‚ĞµÑ€ÑĞºĞ¸Ğµ Ğ¸Ğ½Ğ¸Ñ†Ğ¸Ğ°Ñ‚Ğ¸Ğ²Ñ‹ Ğ¸ Ğ±Ğ»Ğ°Ğ³Ğ¾Ñ‚Ğ²Ğ¾Ñ€Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ñ‹ Ğ² Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğµ.',
        volunteerActivities: 'ĞšĞ¾Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ°Ñ†Ğ¸Ñ Ğ²Ğ¾Ğ»Ğ¾Ğ½Ñ‚ĞµÑ€Ğ¾Ğ², Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ±Ğ»Ğ°Ğ³Ğ¾Ñ‚Ğ²Ğ¾Ñ€Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ñ… Ğ°ĞºÑ†Ğ¸Ğ¹, Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° ÑĞ¾Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ñ‹Ñ… Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ¾Ğ².',
        city: 'Ğ¡Ğ½ĞµĞ¶Ğ¸Ğ½ÑĞº',
        address: 'Ğ³. Ğ¡Ğ½ĞµĞ¶Ğ¸Ğ½ÑĞº',
        social_vk: 'https://vk.com/snzzhensovet',
        lat: 56.0950, lng: 60.7414,
        status: 'approved'
      },
      {
        name: 'Ğ¡Ğ½ĞµĞ¶Ğ¸Ğ½ÑĞºĞ°Ñ Ğ³Ğ¾Ñ€Ğ¾Ğ´ÑĞºĞ°Ñ Ğ¾Ğ±Ñ‰ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ğ°Ñ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ "Ğ¡Ğ¾ÑĞ· Ğ¶ĞµĞ½Ñ‰Ğ¸Ğ½ Ğ¡Ğ½ĞµĞ¶Ğ¸Ğ½ÑĞºĞ°"',
        category: 'Ğ¡Ğ¾Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°',
        description: 'ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° ÑĞµĞ¼ĞµĞ¹ Ñ Ğ´ĞµÑ‚ÑŒĞ¼Ğ¸: Ğ¼Ğ½Ğ¾Ğ³Ğ¾Ğ´ĞµÑ‚Ğ½Ñ‹Ñ…, Ğ¿Ñ€Ğ¸ĞµĞ¼Ğ½Ñ‹Ñ… ÑĞµĞ¼ĞµĞ¹, ÑĞµĞ¼ĞµĞ¹ Ğ² Ğ³Ğ¾Ñ€Ğ¾Ğ´ÑĞºĞ¸Ñ… Ğ¾Ğ±Ñ‰ĞµĞ¶Ğ¸Ñ‚Ğ¸ÑÑ…. Ğ¡Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ Ğ¿Ğ¾Ğ²Ñ‹ÑˆĞµĞ½Ğ¸Ñ ĞºĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ° Ğ¶Ğ¸Ğ·Ğ½Ğ¸ ÑÑ‚Ğ°Ñ€ÑˆĞµĞ³Ğ¾ Ğ¿Ğ¾ĞºĞ¾Ğ»ĞµĞ½Ğ¸Ñ. ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° Ğ¾Ğ±Ñ‰ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ Ğ´Ğ²Ğ¸Ğ¶ĞµĞ½Ğ¸Ñ Ğ¿Ğ¾ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ñ Ğ¸ Ñ€Ğ°Ğ·Ğ²Ğ¸Ñ‚Ğ¸Ñ Ğ½Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ñ… ĞºÑƒĞ»ÑŒÑ‚ÑƒÑ€.',
        volunteerActivities: 'Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ ÑĞµĞ¼ÑŒÑĞ¼Ğ¸, Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ ĞºĞ»ÑƒĞ±Ğ¾Ğ² Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ, Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° Ğ¶ĞµĞ½Ñ‰Ğ¸Ğ½, ĞºÑƒĞ»ÑŒÑ‚ÑƒÑ€Ğ½Ñ‹Ğµ Ğ¼ĞµÑ€Ğ¾Ğ¿Ñ€Ğ¸ÑÑ‚Ğ¸Ñ.',
        city: 'Ğ¡Ğ½ĞµĞ¶Ğ¸Ğ½ÑĞº',
        address: 'Ğ³. Ğ¡Ğ½ĞµĞ¶Ğ¸Ğ½ÑĞº',
        social_vk: 'https://vk.com/sovetgensnz',
        lat: 56.1050, lng: 60.7514,
        status: 'approved'
      },
      {
        name: 'Ğ‘Ğ¤ĞœĞ¡ ĞĞ¾Ğ²Ğ¾Ğµ Ğ£ÑĞ¾Ğ»ÑŒĞµ',
        category: 'Ğ¡Ğ¾Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°',
        description: 'ĞĞºÑ‚Ğ¸Ğ²Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¸ Ñ€Ğ°Ğ·Ğ²Ğ¸Ñ‚Ğ¸Ğµ Ğ¼ĞµÑÑ‚Ğ½Ğ¾Ğ³Ğ¾ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµÑÑ‚Ğ²Ğ° Ğ´Ğ»Ñ ÑƒĞ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ñ Ğ¶Ğ¸Ğ·Ğ½Ğ¸ Ğ² Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğµ. Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ Ğ½ĞµÑ€Ğ°Ğ²Ğ½Ğ¾Ğ´ÑƒÑˆĞ½Ñ‹Ğ¼Ğ¸ Ğ¶Ğ¸Ñ‚ĞµĞ»ÑĞ¼Ğ¸, Ğ¶ĞµĞ½Ñ‰Ğ¸Ğ½Ğ°Ğ¼Ğ¸ 40+, ÑĞµĞ¼ÑŒÑĞ¼Ğ¸ Ñ Ğ´ĞµÑ‚ÑŒĞ¼Ğ¸.',
        volunteerActivities: 'Ğ Ğ°Ğ·Ğ²Ğ¸Ñ‚Ğ¸Ğµ Ğ¼ĞµÑÑ‚Ğ½Ğ¾Ğ³Ğ¾ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµÑÑ‚Ğ²Ğ°, Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¼ĞµÑ€Ğ¾Ğ¿Ñ€Ğ¸ÑÑ‚Ğ¸Ğ¹, Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ Ğ¶Ğ¸Ñ‚ĞµĞ»ÑĞ¼Ğ¸.',
        city: 'Ğ£ÑĞ¾Ğ»ÑŒĞµ-Ğ¡Ğ¸Ğ±Ğ¸Ñ€ÑĞºĞ¾Ğµ',
        address: 'Ğ³. Ğ£ÑĞ¾Ğ»ÑŒĞµ-Ğ¡Ğ¸Ğ±Ğ¸Ñ€ÑĞºĞ¾Ğµ',
        social_vk: 'https://vk.com/club166583301',
        lat: 52.7500, lng: 103.6500,
        status: 'approved'
      },
      {
        name: 'Ğ£Ğ“ĞœĞ Ğ˜ĞĞ ĞĞĞĞ Ğ’ĞĞ˜',
        category: 'Ğ¡Ğ¾Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°',
        description: 'ĞÑ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ¿Ğ¾ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞµ Ğ»ÑĞ´ĞµĞ¹ Ñ Ğ¸Ğ½Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ½Ğ¾ÑÑ‚ÑŒÑ Ğ¸ Ñ€Ğ°Ğ·Ğ²Ğ¸Ñ‚Ğ¸Ñ Ğ°Ğ´Ğ°Ğ¿Ñ‚Ğ¸Ğ²Ğ½Ğ¾Ğ¹ Ñ„Ğ¸Ğ·Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ¹ ĞºÑƒĞ»ÑŒÑ‚ÑƒÑ€Ñ‹ Ğ¸ ÑĞ¿Ğ¾Ñ€Ñ‚Ğ° Ğ² Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğµ. Ğ“Ñ€ÑƒĞ¿Ğ¿Ğ° Ğ¸Ğ·ÑƒÑ‡Ğ°ĞµÑ‚ Ğ±Ğ¾Ğ»ĞµĞµ 25 Ñ‡ĞµĞ»Ğ¾Ğ²ĞµĞº Ñ€Ğ°Ğ·Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ñ… Ğ½Ğ¾Ğ·Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¸Ñ… Ğ³Ñ€ÑƒĞ¿Ğ¿.',
        volunteerActivities: 'ĞĞ´Ğ°Ğ¿Ñ‚Ğ¸Ğ²Ğ½Ğ°Ñ Ñ„Ğ¸Ğ·Ğ¸Ñ‡ĞµÑĞºĞ°Ñ ĞºÑƒĞ»ÑŒÑ‚ÑƒÑ€Ğ°, ÑĞ¿Ğ¾Ñ€Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğµ Ğ·Ğ°Ğ½ÑÑ‚Ğ¸Ñ Ğ´Ğ»Ñ Ğ»ÑĞ´ĞµĞ¹ Ñ Ğ¸Ğ½Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ½Ğ¾ÑÑ‚ÑŒÑ, Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° Ğ¸ Ñ€ĞµĞ°Ğ±Ğ¸Ğ»Ğ¸Ñ‚Ğ°Ñ†Ğ¸Ñ.',
        city: 'Ğ£ÑĞ¾Ğ»ÑŒĞµ-Ğ¡Ğ¸Ğ±Ğ¸Ñ€ÑĞºĞ¾Ğµ',
        address: 'Ğ³. Ğ£ÑĞ¾Ğ»ÑŒĞµ-Ğ¡Ğ¸Ğ±Ğ¸Ñ€ÑĞºĞ¾Ğµ',
        lat: 52.7600, lng: 103.6600,
        status: 'approved'
      },
      {
        name: 'ĞĞĞ "Ğ¢Ğ²ĞµÑ€Ğ´Ñ‹Ğ¼Ğ¸ ÑˆĞ°Ğ³Ğ°Ğ¼Ğ¸"',
        category: 'Ğ¡Ğ¾Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°',
        description: 'ĞĞ²Ñ‚Ğ¾Ğ½Ğ¾Ğ¼Ğ½Ğ°Ñ Ğ½ĞµĞºĞ¾Ğ¼Ğ¼ĞµÑ€Ñ‡ĞµÑĞºĞ°Ñ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰Ğ¸ Ğ´ĞµÑ‚ÑĞ¼ Ñ Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ½Ñ‹Ğ¼Ğ¸ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑĞ¼Ğ¸ Ğ·Ğ´Ğ¾Ñ€Ğ¾Ğ²ÑŒÑ, Ğ¸Ğ½Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ½Ğ¾ÑÑ‚ÑŒÑ Ğ¸ Ğ¸Ñ… ÑĞµĞ¼ÑŒÑĞ¼.',
        volunteerActivities: 'ĞŸĞ¾Ğ¼Ğ¾Ñ‰ÑŒ Ğ´ĞµÑ‚ÑĞ¼ Ñ ĞĞ’Ğ—, Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° ÑĞµĞ¼ĞµĞ¹, Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ñ€ĞµĞ°Ğ±Ğ¸Ğ»Ğ¸Ñ‚Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ñ… Ğ¼ĞµÑ€Ğ¾Ğ¿Ñ€Ğ¸ÑÑ‚Ğ¸Ğ¹.',
        city: 'Ğ¢Ğ²ĞµÑ€ÑŒ',
        address: 'Ğ³. Ğ¢Ğ²ĞµÑ€ÑŒ',
        social_vk: 'https://vk.com/club207076122',
        lat: 56.8584, lng: 35.9000,
        status: 'approved'
      }
    ];

    let addedCount = 0;
    let skippedCount = 0;
    
    for (const npoData of sampleNPOs) {
      const existingNPO = await NPO.findOne({ 
        where: { name: npoData.name, city: npoData.city } 
      });
      
      if (!existingNPO) {
        const fullNpoData = {
          ...npoData,
          createdBy: adminUser.id,
          moderatedBy: adminUser.id,
          moderatedAt: new Date()
        };
        await NPO.create(fullNpoData);
        addedCount++;
        console.log(`âœ… Added: ${npoData.name} (${npoData.city})`);
      } else {
        skippedCount++;
        console.log(`âš ï¸ Already exists: ${npoData.name} (${npoData.city})`);
      }
    }

    const totalInDB = await NPO.count();
    
    setupResults.npos = {
      added: addedCount,
      skipped: skippedCount,
      total: totalInDB
    };

    // 3. Ğ¤Ğ¾Ñ€Ğ¼Ğ¸Ñ€ÑƒĞµĞ¼ Ğ¸Ñ‚Ğ¾Ğ³Ğ¾Ğ²Ñ‹Ğ¹ Ğ¾Ñ‚Ğ²ĞµÑ‚
    const successMessage = `
ğŸ‰ Database setup completed!

ğŸ‘‘ Admin: ${setupResults.admin.created ? 'CREATED' : 'EXISTS'}
   ${setupResults.admin.message}

ğŸ“Š NPOs:
   Added: ${addedCount} new organizations
   Skipped: ${skippedCount} existing organizations  
   Total in database: ${totalInDB} organizations

ğŸ” Admin credentials:
   Email: admin@nko-map.ru
   Password: admin123
   âš ï¸ Change password after first login!
    `;

    console.log(successMessage);
    
    res.json({ 
      success: true, 
      message: 'Database setup completed successfully',
      results: setupResults,
      adminCredentials: {
        email: 'admin@nko-map.ru',
        password: 'admin123',
        note: 'Change password after first login!'
      }
    });
    
  } catch (error) {
    console.error('âŒ Database setup error:', error);
    res.json({ 
      success: false, 
      error: error.message,
      stack: process.env.NODE_ENV === 'production' ? undefined : error.stack
    });
  }
});

// Error handling middleware
app.use((err, req, res, next) => {
  console.error('Error:', err.message);
  
  if (err.message === 'Not allowed by CORS') {
    return res.status(403).json({
      success: false,
      message: 'Ğ”Ğ¾ÑÑ‚ÑƒĞ¿ Ğ·Ğ°Ğ¿Ñ€ĞµÑ‰ĞµĞ½ Ğ¿Ğ¾Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ¾Ğ¹ CORS'
    });
  }
  
  res.status(err.status || 500).json({
    success: false,
    message: process.env.NODE_ENV === 'production' ? 'Ğ’Ğ½ÑƒÑ‚Ñ€ĞµĞ½Ğ½ÑÑ Ğ¾ÑˆĞ¸Ğ±ĞºĞ° ÑĞµÑ€Ğ²ĞµÑ€Ğ°' : err.message
  });
});

app.use('/api/profile', profileRoutes);
app.use('/api/admin', adminRoutes);

// Start server
app.listen(PORT, '0.0.0.0', () => {
  console.log(`ğŸš€ Server running on port ${PORT}`);
  console.log(`ğŸ“Š Environment: ${process.env.NODE_ENV || 'production'}`);
  console.log(`ğŸŒ Render.com deployment ready`);
});